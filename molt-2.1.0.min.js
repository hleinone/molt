(function(a){typeof module!="undefined"?module.exports=a:this.molt=a})(function(){var a="getAttribute",b=[],c=[],d=[],e,f=function(){var a,f,g,h,j,k,l=W(),m;e=-1;while(j=d[++e]){k=(g=j.getAttribute("url")).match(/\{\s*(.*?)\s*\}/)[1].split(/\s*,\s*/),a=k.length;while(a)if(l>k[--a].match(/^!?(.+)/)[1])break;if(k[a].charAt(0)=="!")j.style.display="none";else{j.style.display=="none"&&((h=j.getAttribute("display"))?j.style.display=h:j.style.display="inline"),j.src=g.replace(/\{.+\}/g,k[a]),f=b.length;while(f)b[--f]==j&&c[f].apply(j,[k[a]])}}};return{listen:function(a,d){b.push(a),c.push(d)},discover:function(){var b=document.getElementsByTagName("img"),c=b.length;while(c)b[--c][a]("url")&&d.push(b[c]);f(),W(f)}}}())